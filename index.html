<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <title>GitHub.io</title>

    <link rel="icon" href="favicon.ico">

    <!-- Roboto -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    
    <!-- Material Design Icons -->
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" rel="stylesheet">
    
    <!-- Vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.4.5/dist/vue.global.min.js"></script>
    
    <!-- Vue Router -->
    <script src="https://cdn.jsdelivr.net/npm/vue-router@4.2.5/dist/vue-router.global.min.js"></script>
    
    <!-- Vuetify -->
    <script src="https://cdn.jsdelivr.net/npm/vuetify@3.5.6/dist/vuetify.min.js"></script>
    
    <link href="https://cdn.jsdelivr.net/npm/vuetify@3.5.6/dist/vuetify.min.css" rel="stylesheet">
    
    <!-- Vue-The-Mask -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/vue-the-mask@0.11.1/dist/vue-the-mask.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/v-mask@2.3.0/dist/v-mask.min.js"></script>
    -->
    
    <!-- Axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios@1.2.2/dist/axios.min.js"></script>
    
    <!-- Chart.js -->
    <script src=" https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js "></script>
    
    <!-- Leaflet -->
    <link href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/leaflet.defaultextent@0.0.3/dist/leaflet.defaultextent.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.defaultextent@0.0.3/dist/leaflet.defaultextent.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-lasso@2.2.12/dist/leaflet-lasso.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/esri-leaflet@3.0.9/dist/esri-leaflet.js"></script>
    
    <!-- Lodash -->
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    
    <!-- Turf.js -->
    <script src='https://cdn.jsdelivr.net/npm/@turf/turf@6.5.0/turf.min.js'></script>
    
    <!-- Data -->
    <script src="./src/libraries.js"></script>
    <script src="./src/locations.js"></script>
    <script src="./src/movies.js"></script>
    <script src="./src/wikimedia.js"></script>
    <script src="./src/geojson.js"></script>
    
    <script src="./assets/json/populacao.json"></script>

    <script src="./assets/json/randomPoints.json"></script>
    <script src="./assets/json/busStations.json"></script>
    
    <script src="./assets/json/municipios.js"></script>
    <script src="./assets/json/nucleos.js"></script>
    
    <!-- Components -->
    <script src="./src/components2/Chart.js"></script>
    <script src="./src/components2/Leaflet.js"></script>
    <script src="./src/components2/Turf.js"></script>
    <script src="./src/components2/ORS.js"></script>
    
    <script src="./src/components2/Libraries.js"></script>
    
    <!--
    <script src="./src/components2/Calendar.js"></script>
    -->
    <script src="./src/components2/DatePicker.js"></script>
    <!--
    <script src="./src/components2/TreeView.js"></script>
    -->
    
    <script src="./src/components2/Git.js"></script>
    <script src="./src/components2/YouTube.js"></script>
    
    <script src="./src/components2/Portfolio.js"></script>

    <script src="./src/components2/Unsplash.js"></script>
    <script src="./src/components2/Wikimedia.js"></script>

    <script src="./src/components2/GamesPS4.js"></script>
  </head>
  <body>
    <div id="app">
      <v-app><!--  :style="{background: $vuetify.theme.themes.light.background}" -->
        <v-app-bar title="GitHub.io" color="#084081">
          <template v-slot:prepend>
            <v-app-bar-nav-icon
              @click.stop="drawer = !drawer"
            ></v-app-bar-nav-icon>
          </template>
          <template v-slot:append>
            <v-btn
              icon
              href="https://github.com/andrehuller/"
              v-bind="attrs"
              v-on="on"
            >
              <v-icon>mdi-github</v-icon>
            </v-btn>
            <v-btn icon="mdi-dots-vertical"></v-btn>
          </template>
        </v-app-bar>
        
        <v-navigation-drawer v-model="drawer">

          <v-list density="compact" nav>
            <v-list-item title="Libraries" to="/">
              <template v-slot:prepend>
                <v-icon icon="mdi-vuetify"></v-icon>
              </template>
            </v-list-item>
          </v-list>

          <v-divider></v-divider>
          <v-list density="compact" nav>
            <v-list-item title="Chart.js" to="/chartjs">
              <template v-slot:prepend>
                <v-icon icon="mdi-chart-arc"></v-icon>
              </template>
            </v-list-item>
            <v-list-item title="Leaflet" to="/leaflet">
              <template v-slot:prepend>
                <v-icon icon="mdi-map"></v-icon>
              </template>
            </v-list-item>
            <v-list-item title="Turf.js" to="/turf">
              <template v-slot:prepend>
                <v-icon icon="mdi-map-marker-plus"></v-icon>
              </template>
            </v-list-item>
            <v-list-item title="OpenRouteService" to="/openrouteservice">
              <template v-slot:prepend>
                <v-icon icon="mdi-road-variant"></v-icon>
              </template>
            </v-list-item>            
          </v-list>
          
          <v-divider></v-divider>
          
          <v-list density="compact" nav>
            <v-list-item title="Unsplash" to="/unsplash">
              <template v-slot:prepend>
                <v-icon icon="mdi-image"></v-icon>
              </template>
            </v-list-item>
            <v-list-item title="Wikimedia Commons" to="/wikimedia">
              <template v-slot:prepend>
                <v-icon icon="mdi-image"></v-icon>
              </template>
            </v-list-item>
          </v-list>
          
          <v-divider></v-divider>
          
          <v-list density="compact" nav>
            <!--
            <v-list-item title="Calendar" to="/calendar">
              <template v-slot:prepend>
                <v-icon icon="mdi-calendar"></v-icon>
              </template>
            </v-list-item>
            -->
            <v-list-item title="Date Picker" to="/datepicker">
              <template v-slot:prepend>
                <v-icon icon="mdi-calendar"></v-icon>
              </template>
            </v-list-item>
            <!--
            <v-list-item title="Tree View" to="/treeview">
              <template v-slot:prepend>
                <v-icon icon="mdi-file-tree"></v-icon>
              </template>
            </v-list-item>
            -->
          </v-list>
          
          <v-divider></v-divider>
          
          <v-list density="compact" nav>
            <v-list-item title="Git" to="/git">
              <template v-slot:prepend>
                <v-icon icon="mdi-git"></v-icon>
              </template>
            </v-list-item>
            <v-list-item title="YouTube" to="/youtube">
              <template v-slot:prepend>
                <v-icon icon="mdi-youtube"></v-icon>
              </template>
            </v-list-item>
          </v-list>

          <v-divider></v-divider>
          <v-list density="compact" nav>
            <v-list-item title="Portfolio" to="/portfolio">
              <template v-slot:prepend>
                <v-icon icon="mdi-view-grid"></v-icon>
              </template>
            </v-list-item>
          </v-list>
        </v-navigation-drawer>
        
        <v-main class="red">
          <router-view v-slot="{ Component }">
            <keep-alive>
              <component :is="Component" />
            </keep-alive>
          </router-view>
        </v-main>
      </v-app>
    </div>
  </body>
  <script>
const { createApp } = Vue
const { createVuetify } = Vuetify

const { createRouter } = VueRouter

const routes = [
  { path: '/', component: Libraries },
  { path: '/chartjs', component: Chartjs },
  { path: '/leaflet', component: Leaflet },
  { path: '/turf', component: Turf },
  { path: '/openrouteservice', component: ORS },
  // { path: '/calendar', component: Calendar },
  { path: '/datepicker', component: DatePicker },
  // { path: '/treeview', component: TreeView },
  { path: '/git', component: Git },
  { path: '/youtube', component: YouTube },
  { path: '/portfolio', component: Portfolio },
  { path: '/unsplash', component: Unsplash },
  { path: '/wikimedia', component: Wikimedia },
  
  { path: '/gamesps4', component: GamesPS4 }
]

const router = VueRouter.createRouter({
  history: VueRouter.createWebHashHistory(),
  routes: routes
})

const vuetify = createVuetify({
  theme: {
    themes: {
      light: {
        background: '#FAFAFA'
      }
    }
  }
})

const app = createApp({
  data: () => ({
    drawer: true
  })
})

app.use(router)
app.use(vuetify)

//app.use(VueMask.VueMaskPlugin)
//app.directive('mask', VueMask.VueMaskDirective)

app.component('indicator', {
  props: ['text', 'value', 'icon', 'color'],
  template: `
    <v-card variant="outlined">
      <div class="d-flex flex-no-wrap justify-space-between">
        <v-card-text>
          <div>{{ text }}</div>
          <p class="text-h4 text--primary mb-0">
            {{ value }}
          </p>
        </v-card-text>

        <v-avatar class="ma-5" size="48" :color="color" variant="outlined">
          <v-icon dark>{{ icon }}</v-icon>
        </v-avatar>
      </div>
    </v-card>
  `
})

app.component('date-picker', {
  props: ['label'],
  data: () => ({
    date: null,
    dateFmt: null,
    menu: false
  }),
  template: `
    <v-menu
      ref="menu"
      v-model="menu"
      :close-on-content-click="false"
      max-width="290px"
      min-width="290px"
      offset-y
      transition="scale-transition"
    >
      <template v-slot:activator="{ on }">
        <v-text-field
          v-model="dateFmt"
          v-mask="'##/##/####'"
          v-on="on"
          @blur="date = parseDate(dateFmt)"
          :label="label"
          prepend-inner-icon="mdi-calendar"
          density="comfortable"
          variant="outlined"
          clearable hide-details
        ></v-text-field>
      </template>
      <v-date-picker
        v-model="date"
        @input="menu = false"
        no-title
      ></v-date-picker>
    </v-menu>
  `,
  created: function () {
    this.date = new Date().toISOString().substr(0, 10)
    this.dateFmt = this.formatDate(this.date)
  },
  watch: {
    date: function (val) {
      this.dateFmt = this.formatDate(this.date)
    }
  },
  methods: {
    formatDate: function (date) {
      if (!date) return null
      const [year, month, day] = date.split('-')
      return `${day}/${month}/${year}`
    },
    parseDate: function (date) {
      if (!date) return null
      const [day, month, year] = date.split('/')
      return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`
    }
  }
})

app.mount('#app')

  </script>
</html>
